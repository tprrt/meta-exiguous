#@TYPE: Machine
#@NAME: Homemade CI/NAS/Media server

#@DESCRIPTION:
# - Intel i5-3570K
# - DDR3 8go
# - RAID 1 soft (root)
#  - 2x SSD Samsung 830 64go
# - RAID 10 hardware (data)
#  - 4x Seagate 7200tr/min 2To
# - JBOD soft (backup)
#  - 2x Seagate 7200tr/min 2To

require conf/machine/include/meta-intel.inc
require conf/machine/include/intel-corei7-64-common.inc
require conf/machine/include/intel-common-pkgarch.inc

PREFERRED_PROVIDER_virtual/kernel = "linux-yocto"
PREFERRED_VERSION_linux-yocto = "3.14%"

MACHINE_FEATURES_append = " pcbios efi va-impl-intel intel-ucode"
MACHINE_FEATURES_remove = "wifi bluetooth 3g nfc screen keyboard alsa usbgadget"

MACHINE_HWCODECS = "va-intel gstreamer-vaapi-1.0"

MACHINE_EXTRA_RRECOMMENDS_append = " linux-firmware lms8"

XSERVER = ""

SYSLINUX_OPTS = "serial 0 115200"
SERIAL_CONSOLE = "115200 ttyS0"
APPEND += "console=ttyS0,115200 console=tty0"

#Since intel-common-standard.scc turn on CONFIG_FB_EFI
#This Kernel Option is required in order to disable FB-EFI
#If not the SATO image will be freezed.
APPEND += "video=efifb:off"
