#
# -*- coding: utf-8; tab-width: 4; c-basic-offset: 4; indent-tabs-mode: nil -*-

#@TYPE: Machine
#@NAME: Laptop Thinkpad X220

#@DESCRIPTION:
# - Intel i5-2540M 2.6GHz
# - x2 DDR3 4GB 10700
# - SSD Samsung 830 64GB
# - Display 12.5" HD LED IPS TFT 1366x768
# - Gigabit LAN Intel PRO/1000 LAN
# - Wi-Fi a/g/n
# - DisplayPort, VGA
# - Li-ion 9 cellules
# - Trackpoint, touchpad

DEFAULTTUNE = "corei7-64"

require conf/machine/include/meta-intel.inc
require conf/machine/include/intel-corei7-64-common.inc
require conf/machine/include/intel-common-pkgarch.inc

# Multilib is required to build u-boot on x86_64 64bits
require conf/multilib.conf
MULTILIBS = "multilib:lib32"
DEFAULTTUNE_virtclass-multilib-lib32 = "x86"

PREFERRED_PROVIDER_virtual/bootloader = "u-boot"
PREFERRED_VERSION_u-boot = "v2016.11%"
# UBOOT_MACHINE = ""

PREFERRED_PROVIDER_virtual/kernel = "linux-stable"
PREFERRED_VERSION_linux-stable = "4.8%"

SERIAL_CONSOLES = "115200;ttyDBG"

MACHINE_HWCODECS = "va-intel gstreamer-vaapi-1.0"

XSERVER = "${XSERVER_X86_BASE} \
           ${XSERVER_X86_EXT} \
           ${XSERVER_X86_I965} \
          "

# -----------------------------------------------------------------------------

MACHINE_FEATURES_remove = "3g nfc"

MACHINE_FEATURES_append = " pcbios efi va-impl-intel intel-ucode wifi bluetooth screen keyboard alsa usbgadget tpm12"
